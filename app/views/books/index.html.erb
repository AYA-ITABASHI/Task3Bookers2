
<main>
 <div class="container">
  <%= flash[:notice] %>
    <% if @books.errors.any? %>
    <h3><%= @books.errors.count %>errors prohibited this obj from being saved:</h3>
     <ul>
      <% @books.errors.full_messages.each do |message| %>
      <li><%= message %></li>
      <% end %>
     </ul>
    <% end %>
  <div class="row">

   <div class="col-md-3">
    <%= render 'list', books: @user %>

    <h3>New book</h3>

    <%= form_with model: @books do |f| %>

    <h4>Title</h4>
      <%= f.text_field :title %>
    <h4>opinion</h4>
      <%= f.text_area :body %>
    <input class= "btn btn-success" type="submit" value="Create Book">
    <% end %>
   </div>
   <div class="col-md-8 offset-md-1">
    <h1>Books</h1>
    <table class="table table-striped">
     <thead>
      <tr class="border-top border-bottom">
       <th>Title</th>
       <th>Opinion</th>
      </tr>
     </thead>
     <tbody>
     <% @book.each do |book| %>
      <tr>
      <th><%= link_to user_path(book.user.id) do %>
       <%= image_tag book.user.get_profile_image(100,100) %>
       <% end %>
      </th>
      <th><%= link_to book_path(book.id) do %>
        <%= book.title %>
        <% end %>
      </th>
      <th><%= book.body %></th>
      </tr>
     <% end %>
     </tbody>
    </table>
   </div>
  </div>
 </div>
</main>
 <div class="container">
  <div class="row">
   <div class="mx-auto">
   <footer>CopyRight Infratop.inc</footer>
   </div>
  </div>
 </div>





